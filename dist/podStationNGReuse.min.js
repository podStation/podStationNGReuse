function parsePodcastFeed(t){function e(t){return t.replace("GTM","GMT")}function i(t,e){e.email=t.children("social\\:email").text(),e.email=e.email||t.children("itunes\\:email").text(),e.email=e.email||t.children("googleplay\\:email").text(),t.children("social\\:handle").each(function(){const t=$(this),i={};e.socialHandles=e.socialHandles||[],i.handle=t.text(),i.type=t.attr("type"),i.url=t.attr("url"),i.text=t.attr("text"),e.socialHandles.push(i)}),t.children("social\\:crowdfunding").each(function(){const t=$(this),i={};e.crowdfundings=e.crowdfundings||[],i.handle=t.text(),i.type=t.attr("type"),i.url=t.attr("url"),i.text=t.attr("text"),e.crowdfundings.push(i)}),t.children("social\\:participant").each(function(){const t=$(this),n={};e.participants=e.participants||[],n.name=t.attr("name"),n.id=t.attr("id"),n.permanent=t.attr("permanent"),i(t,n),e.participants.push(n)}),t.children("social\\:participantReference").each(function(){const t=$(this),i={};e.participantReferences=e.participantReferences||[],i.id=t.attr("id"),e.participantReferences.push(i)})}var n,a="string"==typeof t?$.parseXML(t):t,s=$(a);return s.find("rss > channel")[0]?(n={},n.podcast={},n.episodes=[],n.podcast.title=s.find("rss > channel > title").text(),n.podcast.description=function(t){var e="",i=[];return t.each(function(){var t=$(this);i.indexOf(t.text())<0&&(e&&(e+="<br>"),e+=t.text(),i.push(t.text()))}),e}(s.find("rss > channel > description")),n.podcast.link=s.find("rss > channel > link").text(),n.podcast.pubDate=e(s.find("rss > channel > pubDate").text())||e(s.find("rss > channel > lastBuildDate").text()),n.podcast.image=$(s.find("rss > channel > image > url")[0]).text()||s.find("rss > channel > image").attr("href")||s.find("rss > channel > itunes\\:image").attr("href"),i(s.find("rss > channel"),n.podcast),s.find("rss > channel > item").each(function(){var t,a=$(this),s={};s.title=$(a.find("title")[0]).text(),s.link=a.find("link").text(),s.pubDate=e(a.find("pubDate").text()),s.parsedPubDate=new Date(s.pubDate),s.description=a.find("description").text(),s.guid=a.find("guid").text(),t=a.find("enclosure"),s.enclosure={url:t.attr("url"),length:t.attr("length"),type:t.attr("type")},i(a,s),n.episodes.push(s)}),n.episodes.sort(function(t,e){return e.parsedPubDate-t.parsedPubDate}),n.episodes[0]&&n.episodes[0].pubDate&&(void 0===n.podcast.pubDate||""===n.podcast.pubDate||new Date(n.episodes[0].pubDate)>new Date(n.podcast.pubDate))&&(n.podcast.pubDate=n.episodes[0].pubDate),n):n}angular.module("podStationReusables",[]),function(){"use strict";function t(){return{parseRSSFeed:parsePodcastFeed}}angular.module("podStationReusables").factory("feedParserService",t)}(),function(){"use strict";function t(t,e){function i(t,e){var i=e.find(function(e){return e.feedUrl===t.feedUrl});i?i.merge(t):e.push(t)}function n(e,n){var a=[],r=!1,c=!1;t.get("http://api.digitalpodcast.com/v2r/search/",{params:{appid:"0f56b00cfbdc051c29b88171e67507f3",format:"rssopml",keywords:e}}).then(function(t){$($.parseXML(t.data)).find("opml > body > outline").each(function(){var t=$(this),e=new s;e.title=t.attr("text"),e.description=t.attr("description"),e.link=t.attr("htmlUrl"),e.feedUrl=t.attr("xmlUrl"),e.subscribed=!1,i(e,a)}),n("resultAvailable",a)}).finally(function(){(r=!0)&&c&&n("searchFinished")}),t.get("https://itunes.apple.com/search",{params:{media:"podcast",term:e}}).then(function(t){t.data.results.forEach(function(t){var e=new s;e.title=t.collectionName,e.itunesLink=t.collectionViewUrl,e.feedUrl=t.feedUrl,e.subscribed=!1,e.image=t.artworkUrl100,i(e,a)}),n("resultAvailable",a)}).finally(function(){c=!0,r&&c&&n("searchFinished")})}var a={search:n},s=function(){return this.title="",this.feedUrl="",this.description="",this.link="",this.itunesLink="",this.image="",this.merge=function(t){""!==t.description&&(this.description=t.description),""!==t.link&&(this.link=t.link),""!==t.image&&(this.image=t.image),""!==t.itunesLink&&(this.itunesLink=t.itunesLink)},this};return a}angular.module("podStationReusables").factory("searchService",["$http","$q",t])}();